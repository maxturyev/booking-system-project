# booking-system-project

Проект по разработке системы бронирования номеров

Для локального тестирования необходимо добавить переменные окружения в текущий процесс с помощью следующих комманд:

```bash
# Database config
export POSTGRES_HOTEL_HOST=hotel-db
export POSTGRES_HOTEL_PORT=5432
export POSTGRES_BOOKING_HOST=booking-db
export POSTGRES_BOOKING_PORT=5433
export POSTGRES_USER=postgres
export POSTGRES_PASSWORD=postgres
export HOTEL_DB=hotels_data
export BOOKING_DB=booking_data

# Service addresses
export KAFKA_SERVER_ADDR=kafka:9092
export HOTEL_SERVICE_ADDR=kafka:50051

source ~/.bashrc
```

После этого можно тестировать любой сервис, активировав его, например сервис отеля:

```bash
cd src/hotel-svc
go run main.go
```

# Текущее состояние проекта

## Обеспечить наблюдаемость работы сервисов:
- [x] Cервисы должны писать структурированный логи в stdout, stderr
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [x] Писать метрики в prometheus
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [x] Обеспечивать возможности сквозной трассировки (обрабатывать данные трассировки в заголовках запросов/сообщениях kafka, писать данные о трассировке в jaeger). [■■■■□□□□□□□□□□□□□□□□][20 / 100]

## Обеспечить возможность развертывания сервисов и их зависимостей в docker с использованием docker compose:
- [x] баз данных
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [x] kafka
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [x] jaeger
[□□□□□□□□□□□□□□□□□□□□][0 / 100]
- [x] prometheus
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [ ] grafana (опционально)
[□□□□□□□□□□□□□□□□□□□□][0 / 100]

## Разработать тесты:

- [x] Покрыть сервисы unit и интеграционными тестами
[■■■■■■■■■■■■□□□□□□□□][60 / 100]

## Требования

- [x] команда работает в монорепозитории (все разрабатываемые сервисы должны находиться в одном репозитории)
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [x] для тестирования сервисов вне контура системы необходимо разработать моки на основании контрактов
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [x] использовать подход чистая архитектура
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [x] использовать https://github.com/golang-standards/project-layout
[■■■■■■■■■■■■■■■■■■■■][100 / 100]
- [x] все настраиваемые параметры должны передаваться через env, создать файл .env.dev с настройками для работы сервисов в окружении для разработки
[■■■■■■■■■■■■■■■■■■□□][90 / 100]
